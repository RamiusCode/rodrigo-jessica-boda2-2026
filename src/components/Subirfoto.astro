---
// PhotoUploadSection.astro
---

<section class="relative w-full py-16 md:py-20 px-6 overflow-hidden">
    <div class="max-w-2xl mx-auto relative z-20">
        <!-- Separador superior -->
        <div class="separador-superior flex justify-center mb-8 opacity-0">
            <img
                src="/imagenes/separador2.png"
                alt="Separador decorativo"
                class="w-48 md:w-64 h-auto object-contain"
            />
        </div>

        <!-- Título Principal -->
        <div class="seccion-titulo-fotos text-center mb-4 opacity-0">
            <h2
                class="font-charm text-xl md:text-4xl text-[#C8A75A] font-bold mb-6"
            >
                Comparte tus momentos con nosotros
            </h2>

            <!-- Icono de cámara -->
            <div class="flex justify-center mb-6">
                <div
                    class="w-20 h-20 md:w-24 md:h-24 bg-[#C8A75A]/10 rounded-full flex items-center justify-center"
                >
                    <svg
                        class="w-10 h-10 md:w-12 md:h-12 text-[#C8A75A]"
                        fill="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            d="M12 15.2c1.77 0 3.2-1.43 3.2-3.2 0-1.77-1.43-3.2-3.2-3.2-1.77 0-3.2 1.43-3.2 3.2 0 1.77 1.43 3.2 3.2 3.2zm0-5.2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"
                        ></path>
                        <path
                            d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm11 14H4V6h4.05l1.83-2h4.24l1.83 2H20v10z"
                        ></path>
                    </svg>
                </div>
            </div>

            <!-- Descripción -->
            <p
                class="font-charm text-xl md:text-2xl text-[#C8B38B] mb-6 leading-relaxed px-4"
            >
                Queremos que seas parte de este día tan especial
            </p>

            <p
                class="font-charm leading-relaxed text-xl md:text-xl text-[#C8B38B] mb-6 px-4"
            >
                Escanea el código QR y sube las fotos de la celebración
            </p>
        </div>

        <!-- QR Code para subir fotos -->
        <div class="seccion-qr-fotos text-center opacity-0">
            <div class="flex justify-center">
                <div
                    class="bg-white p-8 rounded-3xl border-4 border-[#C8A75A]/30"
                >
                    <img
                        src="/imagenes/qrfoto.png"
                        alt="Código QR para subir fotos"
                        class="w-64 h-64 md:w-80 md:h-80 object-contain"
                    />
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .font-charm {
        font-family: "Charm", cursive !important;
    }

    p,
    h2,
    h3 {
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
    }
</style>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    // Animación del separador superior
    gsap.fromTo(
        ".separador-superior",
        {
            opacity: 0,
            y: -30,
        },
        {
            opacity: 1,
            y: 0,
            duration: 1.2,
            ease: "power3.out",
            scrollTrigger: {
                trigger: ".separador-superior",
                start: "top 85%",
                toggleActions: "play none none none",
            },
        },
    );

    // Animación de la sección título
    gsap.fromTo(
        ".seccion-titulo-fotos",
        {
            opacity: 0,
            y: 60,
            scale: 0.95,
        },
        {
            opacity: 1,
            y: 0,
            scale: 1,
            duration: 1.3,
            ease: "power3.out",
            scrollTrigger: {
                trigger: ".seccion-titulo-fotos",
                start: "top 80%",
                toggleActions: "play none none none",
            },
        },
    );

    // Animación del QR con efecto especial
    gsap.fromTo(
        ".seccion-qr-fotos",
        {
            opacity: 0,
            y: 60,
            scale: 0.9,
        },
        {
            opacity: 1,
            y: 0,
            scale: 1,
            duration: 1.4,
            ease: "back.out(1.2)",
            scrollTrigger: {
                trigger: ".seccion-qr-fotos",
                start: "top 80%",
                toggleActions: "play none none none",
            },
        },
    );
</script>
